<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:security="http://www.springframework.org/schema/security"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd">

	<security:global-method-security secured-annotations="enabled" />

<!--     <security:http auto-config="true" use-expressions="true"> -->
<!-- 		<security:access-denied-handler error-page="/403" /> -->
<!--         <security:intercept-url pattern="/" access="permitAll" /> -->
<!--         <security:intercept-url pattern="/protected/**" access="isAuthenticated()" /> -->

<!--         <security:form-login login-processing-url="/j_spring_security_check" login-page="/login"  -->
<!--         	authentication-failure-url="/login?error=403" default-target-url="/home" username-parameter="username" -->
<!-- 			password-parameter="password"/> -->

<!--         <security:logout invalidate-session="true" logout-success-url="/login" logout-url="/logout" /> -->
<!--     </security:http> -->

<!--     <security:authentication-manager> -->
<!--         <security:authentication-provider> -->
<!--             <security:user-service> -->
<!--                 <security:user name="admin" password="admin" authorities="admin" /> -->
<!--                 <security:user name="artista" password="artista" authorities="artista" /> -->
<!--                 <security:user name="comprador" password="comprador" authorities="comprador" /> -->
<!--             </security:user-service> -->
<!--         </security:authentication-provider> -->
<!--     </security:authentication-manager> -->

<security:http use-expressions="true" entry-point-ref="restAuthenticationEntryPoint" create-session="stateless">
    <security:intercept-url pattern="/**" access="permitAll" />
    <security:form-login login-processing-url="/j_spring_security_check" authentication-failure-url="/login?error=403" 
    	login-page="/login" default-target-url="/home" username-parameter="username"
			password-parameter="password"/>
    <security:logout invalidate-session="true" logout-success-url="/login" logout-url="/logout" />
  </security:http>
  <security:authentication-manager alias="authenticationManager">
    <security:authentication-provider>
      <security:user-service>
        <security:user authorities="ROLE_USER" name="admin" password="admin" />
      </security:user-service>
    </security:authentication-provider>
  </security:authentication-manager>
  
  <!--   <security:http entry-point-ref="restAuthenticationEntryPoint"> -->
<!--     <security:intercept-url pattern="/**" access="permitAll" /> -->
<!--     <security:custom-filter ref="authenticationTokenProcessingFilter" position="PRE_AUTH_FILTER" /> -->
<!--     <security:form-login login-processing-url="/j_spring_security_check" authentication-failure-url="/login?error=403" login-page="/login" default-target-url="/home"/> -->
<!--     <security:logout invalidate-session="true" logout-success-url="/login" logout-url="/logout" /> -->
<!--   </security:http> -->
<!--   <security:authentication-manager alias="authenticationManager"> -->
<!--     <security:authentication-provider> -->
<!--       <security:user-service> -->
<!--         <security:user authorities="ROLE_USER" name="admin" password="admin" /> -->
<!--       </security:user-service> -->
<!--     </security:authentication-provider> -->
<!--   </security:authentication-manager> -->
  


</beans>